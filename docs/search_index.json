[["index.html", "Упражнения по КМИ 2021-2022 Част 1 Въведение в линейното програмиране 1.1 Софтуер 1.2 Пример 1: Берлински въздушен мост 1.3 История 1.4 Задача 1.5 Математически модел 1.6 Допустимо множество (1) 1.7 Допустимо множество (2) 1.8 Стойности на целевата функция във върховете", " Упражнения по КМИ 2021-2022 Бойко Амаров 10/10/2021 Част 1 Въведение в линейното програмиране 1.1 Софтуер В рамките на курса ще използваме R и R Studio Desktop за водене на записки повреме на упражненията. Това е техническо решение за целите на онлайн обучението и не е част от изпита към лекцията. 1.2 Пример 1: Берлински въздушен мост След края на Втората световна война Германия е разделена на четири окупационни зони: Американска, Британска, Френска и Съветска. Берлин също така е разделен на четири зони, но достъпът до него по суша и по вода минава изцяло през територията на Съветската окупационна зона. Графика 1.1: Окупационни зони в Германия след края на Втората световна война. Източник: Wikipedia. 1.3 История На 24-ти юни 1948 Съветският Съюз блокира достъпа до Западен Берлин, с което започва една от най-значимите конфронтации по време на Студената война. Без достъп по суша или вода, западните съюзници започват да снабдяват града по въздух (Берлински въздушен мост). Графика 1.2: Доставка на сол (река Хафел). Източник: Wikipedia. Графика 1.3: Приземяване на самолет C-54 (летище Темпелхоф). Източник: Wikipedia. 1.4 Задача За по-просто нека да приемем, че доставките до Берлин се извършват с два вида самолети: американски, които могат да поемат до 30 000 кубични фута товар (\\(\\approx 849 m^3\\)), и британски самолети с капацитет до 20 000 кубични фута (\\(\\approx 566 m^3\\)). Поради ограничния в инфраструктурата на ден могат да летят най-много 48 самолета (независимо от кой вид). За всеки полет на американски самолет има нужда от 16 души персонал, двойно повече от броя нужен за британските самолети. Общо на разположение са 512 души на ден. Разходите за гориво и поддръжка на самолетите възлизат на 9000 долара за полет на американски самолет и на 5000 долара за полет на британски самолет. Поради бюджетни ограничения общите разходи не могат да надхвърлят 300 000 долара. Колко британски и колко американски самолети да използва на ден въздушният мост, така че да достави до Берлин възможно най-голямо количество стоки? 1.5 Математически модел \\[ \\begin{align} x_1: \\text{ брой амер. самолети}\\\\ x_2: \\text{ брой брит. самолети} \\end{align} \\] \\[ \\max 3 x_1 + 2 x_2 \\text{ (общ товар, целева функция, objective)} \\\\ \\begin{align} x_1 + x_2 &amp; \\leq 48 \\text{ (инфраструктура)} \\\\ 16 x_1 + 8 x_2 &amp; \\leq 512 \\text{ (персонал)} \\\\ 9 x_1 + 5 x_2 &amp; \\leq 300 \\text{ (бюджет)} \\\\ x_1 &amp; \\geq 0 \\text{ (брой амер. самолети)} \\\\ x_2 &amp; \\geq 0 \\text{ (брой брит. самолети)} \\end{align} \\] Преди да решим задачата, нека да я решим неформално в опростен вариант, като игнорираме второто и третото ограничение: \\[ \\max 3 x_1 + 2 x_2 \\\\ \\begin{align} x_1 + x_2 &amp; \\leq 48 \\\\ x_1 &amp; \\geq 0 \\\\ x_2 &amp; \\geq 0 \\end{align} \\] Решение: \\[ (x^*_1 = 48, x^*_2 = 0) \\] 1.6 Допустимо множество (1) За да решим задачата (и с трите ограничения) първо ще представим допустимото множество графично, като за целта ще начертаем правите към всяко от петте ограничения (влючително ограниченията за неотрицателност). За да можем да начертаем правите са ни нужни по две точки от всяка права. Най-лесно можем да намерим пресечните им точки с двете оси (\\(x_1\\) и \\(x_2\\)). За всички точки на оста \\(x_2\\) е изпълнено, че \\(x_1 = 0\\). Когато заместим с \\(x_1 = 0\\) в уравнението на всяка от правите ще намерим пресечните им точки с оста \\(x_2\\). За всички точки от оста \\(x_1\\) важи, че \\(x_2 = 0\\), така че когато заместим с \\(x_2 = 0\\) в уравненията на правите ще получим пресечните им точки с оста \\(x_1\\). Права на първото ограничение (инфраструктура): \\[ x_1 + x_2 = 48 \\] За да намерим пресечните точки на правата (инфраструктура) с двете оси: При \\(x_1 = 0\\) на колко е равно \\(x_2\\)? \\(0 + x_2 = 48\\) При \\(x_2 = 0\\) на колко е равно \\(x_1\\)? \\(x_1 + 0 = 48\\) За да намерим пресечните точки на втората права (персонал) с двете оси: \\[ 16 x_1 + 8 x_2 = 512 \\] При \\(x_1 = 0\\) на колко е равно \\(x_2\\)? \\(16 \\cdot 0 + 8x_2 = 512 \\implies x_2 = 512 / 8 = 64\\) При \\(x_2 = 0\\) на колко е равно \\(x_1\\)? \\(16 x_1 +8 \\cdot 0 = 512 \\implies x_1 = 512 / 16 = 32\\) По същия начин можем да намерим и две точки от правата на третото ограничение (бюджет): (0, 300 / 5) и (300 / 9, 0). 1.7 Допустимо множество (2) Допустимото множество се състои от всички точки в полигона (0, 0), (32, 0), (20, 24), (15, 33), (0, 48). Изчислението на пресечните точки (20, 24) и (15, 33) засега ще оставим на компютъра. 1.8 Стойности на целевата функция във върховете Оптималното решение не може да е вътрешна точка за допустимото множество. За да определим кой от върховете на допустимото множество е оптималното решение ще изчислим целевата функция за всеки от върховете. # Връх (0, 0) 3 * 0 + 2 * 0 ## [1] 0 # Връх (32, 0) 3 * 32 + 2 * 0 ## [1] 96 # Връх (20, 24) 3 * 20 + 2 * 24 ## [1] 108 # Връх (15, 33) 3 * 15 + 2 * 33 ## [1] 111 # Връх (0, 48) 3 * 0 + 2 * 48 ## [1] 96 Оптималната комбинация от американски и британски самолети е \\((x^*_1 = 15, x^*_2 = 33)\\). Възможно най-големият товар, който могат да пренесат самолетите е \\(30000 x^*_{1} + 20000 x^*_{2} = 30000 \\cdot 15 + 20000 \\cdot 33 = 1 110 000\\) кубични фута, използвайки 15 американски и 33 британски самолета. "],["графичен-метод.html", "Част 2 Графичен метод 2.1 Планиране на производство 2.2 Планиране на производство (2) 2.3 Пример (3)", " Част 2 Графичен метод 2.1 Планиране на производство Бутиково кафене в София предлага два продукта: Супер еспресо и Делукс еспресо. За приготвянето на един килограм от първия вид кафе са необходими по равни части бразилско и кубинско кафе, а рецептата за Делукс предвижда смес от бразилско и кубинско кафе в пропорция 1 към 3. Доставчиците са готови да осигурят 120 кг бразилско и 160 кг. кубинско кафе. Заведението знае, че няма да може да продаде повече от 150 кг. Делукс еспресо. От всеки продаден килограм Супер еспресо заведението печели 40 лв., докато печалбата от килограм Делукс възлиза на 50 лв. Колко от двата типа кафе ще препоръчате на кафенето да смеси? 2.1.1 Математически модел Целеви променливи: \\[ \\begin{align} &amp; x_1: \\text{ Супер еспресо (кг.)}\\\\ &amp; x_2: \\text{ Делукс еспресо (кг.)} \\end{align} \\] \\[ \\max z = 40 x_1 + 50 x_2 \\text{ (целева функция)} \\\\ \\begin{align} 0.5 x_1 + 0.25 x_2 &amp; \\leq 120 \\text{ (бразилско кафе)}\\\\ 0.5 x_1 + 0.75 x_2 &amp; \\leq 160 \\text{ (кубинско кафе)} \\\\ 0 \\cdot x_1 + x_2 &amp; \\leq 150 \\text{ (търсене Делукс)}\\\\ x_1 &amp; \\geq 0 \\\\ x_2 &amp; \\geq 0 \\end{align} \\] 2.1.2 Допустимо множество Както и в предишната задача ще изобразим графично допустимото множество, като начертаем правите, към всяко от петте неравенства: \\[ \\begin{align} 0.5 x_1 + 0.25 x_2 &amp; = 120 \\\\ 0.5 x_1 + 0.75 x_2 &amp; = 160 \\\\ 0 \\cdot x_1 + x_2 &amp; = 150 \\end{align} \\] Първо ще пресметнем пресечните точки на трите прави с осите \\(x_1\\) и \\(x_2\\)? Права бразилско кафе: (0, 120 / 0.25 = 480), (120 / 0.5 = 240, 0) Права кубинско кафе: (0, 160 / 0.75), (160 / 0.5, 0) Права търсене на Делукс: (0, 150), (100, 150) Тази права е успоредна на оста \\(x_1\\). Графика 2.1: Прави на ограниченията и допустимо множество. Допустимото множество е определено от всички точки, които едновременно изпълняват всички ограничения. На графика 2.1 това е полигонът определен от Пресечната точка на равенствата на двете ограничения за неотрицателност: (0, 0) Пресечната точка на неотрицателността на “Супер еспресо” (оста \\(x_1\\)) и “бразилско кафе”: (240, 0). Пресечната точка на равенствата на ограниченията “бразилско кафе” и “кубинско кафе” Пресечната точка на равенствата на ограниченията “кубинско кафе” и “търсене на Делукс” Пресечната точка на равенствата на ограниченията “търсене на Делукс” и неотрицателността на Делукс (оста \\(x_2\\)). Вече пресметнахме тази точка, когато чертахме правите към ограниченията: (0, 150). В пресечната точка на правите към “кубинско кафе”/“бразилско кафе” са изпълнени и двете равенства едновременно. За да намерим точката трябва да решим система от двете уравнения \\[ \\begin{equation} \\left | \\begin{array}{@{}l@{}} 0.5 x_1 + 0.25 x_2 &amp; = 120 \\text{ (1: бразилско кафе)} \\\\ 0.5 x_1 + 0.75 x_2 &amp; = 160 \\text{ (2: кубинско кафе)} \\end{array}\\right.\\,. \\end{equation} \\] Един начин да решим системата е да извадим първото уравнение от второто уравнение. Когато го направим получаваме \\[ \\begin{align} (0.75 - 0.25) x_2 &amp; = 160 - 120 \\\\ 0.5 x_2 &amp; = 40 \\\\ x_2 &amp; = 80 \\end{align} \\] Заместваме с \\(x_2 = 80\\) в първото уравнение и получаваме \\[ \\begin{align} 0.5 x_1 + 0.25 \\cdot 80 &amp; = 120\\\\ x_1 &amp; = 200. \\end{align} \\] Решението на системата е (200, 80): пресечната точка на двете прави. За да намерим координатите на пресечната точка на равенствата на “кубинско кафе” и “търсене на Делукс” трябва да решим системата от две уравнения принадлежащи към тези ограничения: \\[ \\begin{equation} \\left | \\begin{array}{@{}l@{}} 0.5 x_1 + 0.75 x_2 &amp; = 160 \\text{ (2: кубинско кафе)} \\\\ 0\\cdot x_1 + x_2 &amp; = 150 \\text{ (3: търсене делукс)} \\end{array}\\right.\\,. \\end{equation} \\] Решението на системата можем да получим, като заместим в първото уравнение с \\(x_2 = 150\\), за да получим \\[ \\begin{equation} \\left | \\begin{array}{@{}l@{}} 0.5 x_1 + 0.75 \\cdot 150 = 160 \\implies 0.5x_1 = 160 - 112.5 \\implies x_1 = 95 \\\\ x_2 = 150 \\end{array}\\right.\\,. \\end{equation} \\] С това намерихме координатите на пресечната точка между правите на “кубинско кафе” и “търсене на Делукс”: (95, 150). Така получаваме, че върховете на допустимото множество (графика 2.2) са (0, 0), (240, 0), (200, 80), (95, 150), (0, 150). Графика 2.2: Допустимо множество и координати на върховете. 2.1.3 Целева функция, нормален вектор За да определим оптималния план графично ще начертаем прави, съответстващи на различни нива на печалба. Всички комбинации \\(x_1\\) и \\(x_2\\), за които печалбата (целевата функция) е равна на 5000 лв лежат на права, определена от равенството: \\[ z = 40x_1 + 50x_2 = 5000 \\] Всички комбинации \\(x_1\\) и \\(x_2\\), за които печалбата (целевата функция) е равна на 1000 лв. лежат на права, определена от равенството \\[ z = 40x_1 + 50x_2 = 10000 \\] Двете прави са успоредни една спрямо друга, тъй като наклона на правите зависи от коефициентите на \\(x_1\\) и \\(x_2\\) в уравненията и не зависи от константата (5 000 в първото уравнение и 10 000 във второто). Векторът (40, 50) се нарича нормален вектор на правите на функцията на печалба и той е перпендикулярен на тях. Координатите на нормалния вектор се получават от коефициентите на \\(x_1\\) и \\(x_2\\) в целевата функция. 2.1.4 Оптимален план 2.1.5 Реализация в Excel Тук можете да изтеглите пример за реализация в Excel. 2.1.6 Реализация в R 2.1.7 Дефицитност на ресурси Кои ресурси са дефицитни в намерения оптимален план? 2.1.8 Допустими граници на промяна В какви граници може да се променя ограничението за бразилското кафе без да се промени характера на оптималния план (без да се променят дефицитните ресурси)? В какви граници може да се променя ограничението за кубинското кафе без да се промени характера на оптималния план (без да се променят дефицитните ресурси)? В какви граници може да се променя ограничението за търсенето на Супер еспресо кафе без да се промени характера на оптималния план (без да се променят дефицитните ресурси)? 2.1.9 Скрити цени Доставчикът предлага да достави допълнителни 10 кг. кубинско кафе на цена от 20 лв./кг. Бихте ли препоръчали на заведението да приеме тази оферта? Съседно кафене предлага да купи 5 килограма от бразилското кафе на цена 40 лв./кг. Изгодно ли е за заведението да продаде това количество кафе? 2.2 Планиране на производство (2) Фирма, специализирана в производство на зимни палта се опитва да посрещне търсенето на нейните стоки с възможно най-малки разходи. Всеки работник, нает в началото на сезона работи през целия сезон, произвежда 80 палта и получава 6000 лв. заплата. В началото на годината фирмата разполага с 30 работника. Търсенето на палта има силни сезонни колебания и фирмата има три опции, за да отговори на тези вариации: работниците могат да работят и по-продължително, но допълнителният труд се заплаща 50% по-скъпо и работниците могат да работят не повече от 20% повече от нормалното работно време. Произведени в предишния период палта могат да се складират на цена от 12 лв. на сезон за всяко палто. Фирмата може да назначава и освобождава служители. За назначаване на един нов служител цената е 500 лв. За освобождаване на служител разходите възлизат на 420 лв. Фирмата няма начални запаси от готови палта Маркетинговият отдел на предприятието оценява, че през следващите четири сезона търсенето ще възлиза на съответно 5000, 2000, 500 и 1500 палта. Изгответе математически модел с който да намерите оптималния план (в смисъл на най-ниски разходи) за тази фирма. 2.3 Пример (3) Фирма произвежда два вида изделия – А и Б и разполага с 600 единици електроенергия, 480 единици мед и 750 кг. желязо. Разходите за електроенергия и метали са дадени в таблица ??. Намерете максималния приход, който може да реализира фирмата при следните два сценария. Ресурс А Б Ел. енергия 3 3 Мед 3 2 Желязо 4 1 2.3.1 Допустимо множество \\[ \\begin{align} x_1: \\text{брой единици от продукт А}\\\\ x_2: \\text{брой единици от продукт Б} \\end{align} \\] \\[ \\begin{align} 3 x_1 + 3 x_2 &amp; \\leq 600\\\\ 3 x_1 + 2 x_2 &amp; \\leq 480 \\\\ 4 x_1 + 1 x_2 &amp; \\leq 750\\\\ x_1 \\geq 0 \\\\ x_2 \\geq 0 \\end{align} \\] Допустимото множество е полигонът с върхове: (0, 0), пресечната точка на “мед” и оста \\(x_1\\): (160, 0), пресечната точка на “мед” и “ел. енергия” и пресечната точка на “ел. енергия” с оста \\(x_2\\). Пресечната точка на “мед” и “ел. енергия” можем да намерим, като решим системата уравнения \\[ \\begin{align} 3 x_1 + 3 x_2 &amp; \\leq 600\\\\ 3 x_1 + 2 x_2 &amp; \\leq 480 \\end{align} \\] В предходния пример намерихме пресечната точка на правите към две ограничения като решихме система от две уравнения (като извадихме едното уравнения от другото). Тук ще решим тази система от уравнения с правилото на Крамер, за да го илюстрираме (двата подхода са еквивалентни): Приложено в конкретния пример получаваме: \\[ \\begin{align} \\Delta &amp; = \\left| \\begin{array}{cc} 3 &amp; 3 \\\\ 3 &amp; 2 \\end{array} \\right| = 3 \\cdot 2 - 3 \\cdot 3 = 6 - 9 = -3 \\\\ \\Delta_1 &amp; = \\left | \\begin{array}{cc} 600 &amp; 3 \\\\ 480 &amp; 2 \\end{array} \\right | = 600 \\cdot 2 - 3 \\cdot 480 = -240 \\\\ \\Delta_2 &amp; = \\left | \\begin{array}{cc} 3 &amp; 600 \\\\ 3 &amp; 480 \\end{array} \\right | = 3 \\cdot 480 - 600 \\cdot 3 = -360 \\implies\\\\ x^*_1 &amp; = \\frac{\\Delta_1}{\\Delta} = \\frac{-240}{-3} = 80 \\\\ x^*_2 &amp; = \\frac{\\Delta_2}{\\Delta} = \\frac{-360}{-3} = 120. \\end{align} \\] 2.3.2 Сценарий 1 Цента на продукт А е 9 единици, а на продукт Б – 8 единици. Намерете максималния приход, който може да реализира фирмата. Целева функция Решение: 2.3.3 Сценарий 2 Цента и на двата продукта е 9 единици. Намерете максималния приход, който може да реализира фирмата. Оптимални са всички комбинации от \\(x_1\\) и \\(x_2\\), които лежат на отсечката (0, 200), (80, 120): \\[ \\left( \\begin{array}{c} x^*_1 \\\\ x^*_2 \\end{array} \\right) = \\alpha \\left(\\begin{array}{c} 0 \\\\ 200 \\end{array}\\right) + (1 - \\alpha) \\left(\\begin{array}{c} 80 \\\\ 120 \\end{array}\\right)\\\\ \\alpha \\in [0, 1] \\] "]]
